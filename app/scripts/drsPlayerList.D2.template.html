<div class="content">
  <div class="row-table row-table-4cols" ng-show="$ctrl.pls.players.length">
      <span class="row-table-cell row-table-cell-1of4 column-heading" translate="{{'List.Player'}}"></span>
      <span class="row-table-cell row-table-cell-1of4 column-heading">
          <div translate="{{'RaidsD2.Leviathan'}}"></div><div translate="{{'List.RaidVersionsD2'}}"></div>
      </span>
      <span class="row-table-cell row-table-cell-1of4 column-heading">
          <div translate="{{'RaidsD2.EaterOfWorlds'}}"></div><div translate="{{'List.RaidVersionsD2'}}"></div>
      </span>
      <span class="row-table-cell row-table-cell-1of4 column-heading">
          <div translate="{{'RaidsD2.SpireOfStars'}}"></div><div translate="{{'List.RaidVersionsD2'}}"></div>
      </span>
  </div>

  <div class="row-table row-table-4cols" ng-repeat="entry in $ctrl.pls.players" ng-class-odd="'striped'">
    <span class="row-table-cell row-table-cell-1of4 column-entry">
      <span ng-show="entry.aliases.length === 0" ng-bind-html="entry.player"></span>
      <span ng-show="entry.aliases.length !== 0" class="player-aliases">
        <span ng-repeat="alias in entry.aliases">
          <span translate="{{'List.DataAlias'}}" translate-values="{platform: alias.platform, name: alias.name}"></span>
          <button class="btn" ng-click="$ctrl.copyClicked(alias.name)">
            <i class="fa fa-copy"></i>
          </button>
          <span ng-bind-html="::alias.urls.destinyStatus"></span>
          <span ng-bind-html="::alias.urls.destinyTracker"></span>
        </span>
      </span>
    </span>
    
    <span class="row-table-cell row-table-cell-3of4" ng-if="entry.loading"><i class="fa fa-refresh fa-spin"></i></span>
    <span class="row-table-cell row-table-cell-3of4" ng-if="!entry.loading && entry.error">{{::entry.errorString}}</span>
    <span class="row-table-cell row-table-cell-3of4" ng-if="!entry.loading && !entry.error && entry.group"></span>

    <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!entry.loading && !entry.error && !entry.group">
      <span translate="{{'List.DataVersions2'}}" translate-values="{nm: entry.l.nm, g: entry.l.g, pm: entry.l.pm}"></span>
      <span translate="{{'List.DataTotal2'}}" translate-values="{total: entry.l.total}"></span>
    </span>
    <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!entry.loading && !entry.error && !entry.group">
      <span translate="{{'List.DataVersions2'}}" translate-values="{nm: entry.eow.nm, g: entry.eow.g, pm: entry.eow.pm}"></span>
      <span translate="{{'List.DataTotal2'}}" translate-values="{total: entry.eow.total}"></span>
    </span>
    <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!entry.loading && !entry.error && !entry.group">
      <span translate="{{'List.DataVersions2'}}" translate-values="{nm: entry.sos.nm, g: entry.sos.g, pm: entry.sos.pm}"></span>
      <span translate="{{'List.DataTotal2'}}" translate-values="{total: entry.sos.total}"></span>
    </span>

    <div class="row-table row-table-4cols" ng-repeat="subEntry in entry.group.children">
      <span class="row-table-cell row-table-cell-1of4 column-entry">
        <span ng-show="subEntry.aliases.length === 0" ng-bind-html="subEntry.player"></span>
        <span ng-show="subEntry.aliases.length !== 0" class="player-aliases">
          <span ng-repeat="alias in subEntry.aliases">
            <span translate="{{'List.DataAlias'}}" translate-values="{platform: alias.platform, name: alias.name}"></span>
            <button class="btn" ng-click="$ctrl.copyClicked(alias.name)">
              <i class="fa fa-copy"></i>
            </button>
            <span ng-bind-html="::alias.urls.destinyStatus"></span>
            <span ng-bind-html="::alias.urls.destinyTracker"></span>
          </span>
        </span>
      </span>

      <span class="row-table-cell row-table-cell-3of4" ng-if="subEntry.loading"><i class="fa fa-refresh fa-spin"></i></span>
      <span class="row-table-cell row-table-cell-3of4" ng-if="!subEntry.loading && subEntry.error">{{::subEntry.errorString}}</span>

      <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!subEntry.loading && !subEntry.error">
          <span translate="{{'List.DataVersions2'}}" translate-values="{nm: subEntry.l.nm, g: subEntry.l.g, pm: subEntry.l.pm}"></span>
          <span translate="{{'List.DataTotal2'}}" translate-values="{total: subEntry.l.total}"></span>
        </span>
        <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!subEntry.loading && !subEntry.error">
          <span translate="{{'List.DataVersions2'}}" translate-values="{nm: subEntry.eow.nm, g: subEntry.eow.g, pm: subEntry.eow.pm}"></span>
          <span translate="{{'List.DataTotal2'}}" translate-values="{total: subEntry.eow.total}"></span>
        </span>
        <span class="row-table-cell row-table-cell-1of4 column-entry player-raids" ng-if="!subEntry.loading && !subEntry.error">
          <span translate="{{'List.DataVersions2'}}" translate-values="{nm: subEntry.sos.nm, g: subEntry.sos.g, pm: subEntry.sos.pm}"></span>
          <span translate="{{'List.DataTotal2'}}" translate-values="{total: subEntry.sos.total}"></span>
        </span>
    </div>
  </div>
</div>